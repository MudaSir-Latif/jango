{% extends "layout.html" %}


{% comment %} {% extends "layout.html" %}

{% block content %}

<section id="prodetails" class="section-p1">
    <div class="single-pro-image">
      <img src="/static/img/products/2.jpg" width="100%" id="MainImg" alt="">

      <div class="small-img-group">
        <div class="small-img-col">
          <img src="/static/img/products/2.jpg" width="100%" class="small-img" alt="" onclick = "myFunction">
        </div>
        <div class="small-img-col">
          <img src="/static/img/products/2.jpg" width="100%" class="small-img" alt="" onclick = "myFunction">
        </div>
        <div class="small-img-col">
          <img src="/static/img/products/2.jpg" width="100%" class="small-img" alt="" onclick = "myFunction">
        </div>
        <div class="small-img-col">
          <img src="/static/img/products/2.jpg" width="100%" class="small-img" alt="" onclick = "myFunction">
        </div>
        
      </div>
    </div>

    <div class="single-pro-details">
      <h4>Men's Fashion T Shirt</h4>
      
      <select name="" id="">
        <option>Select Size</option>
        <option>Small</option>
        <option>Large</option>
      </select>

      <select name="" id="">
        <option>Select Color</option>
        <option>White</option>
        <option>Brown</option>
      </select>

      

    <input type="number" value="1">
    
    <h2>$139.00</h2>

    <a href="/cart"><button class="normal">Add To Cart</button></a>

    </div>
  </section>


{% endblock  %} {% endcomment %}


{% comment %} {% load static %}
{% block content %}
<section id="prodetails" class="section-p1">
    <div class="single-pro-image">
        <img src="{% if product.images.all %}{{ product.images.first.image.url }}{% else %}{% static 'img/products/default.jpg' %}{% endif %}" width="100%" id="MainImg" alt="{{ product.title }}">
        <div class="small-img-group">
            {% for image in product.images.all %}
            <div class="small-img-col">
                <img src="{{ image.image.url }}" width="100%" class="small-img" alt="{{ product.title }}" onclick="myFunction()">
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="single-pro-details">
        <h4>{{ product.title }}</h4>
        <select name="" id="">
            <option>Select Size</option>
            {% for size in product.size_set.all %}
            <option>{{ size.size }}</option>
            {% endfor %}
        </select>
        <select name="" id="">
            <option>Select Color</option>
            {% for colour in product.colour_set.all %}
            <option>{{ colour.colour }}</option>
            {% endfor %}
        </select>
        <select name="" id="">
          <option>Select Quantity</option>
          {% for stock in product.stock.all %}
          <option>{{ stock.stock }}</option>
          {% endfor %}
        </select>
        <h2>${{ product.price }}</h2>
        <a href="/cart"><button class="normal">Add To Cart</button></a>
        <h3 style="padding: 20px;">{{ product.description }}</h3>
    </div>
</section>
{% endblock %} {% endcomment %}


{% load static %}
{% block content %}
<section id="prodetails" class="section-p1">
    <div class="single-pro-image">
        <img src="{% if product.images.all %}{{ product.images.first.image.url }}{% else %}{% static 'img/products/default.jpg' %}{% endif %}" width="100%" id="MainImg" alt="{{ product.title }}">
        <div class="small-img-group" style="padding: 10px;">
            {% for image in product.images.all %}
            <div class="small-img-col">
                <img src="{{ image.image.url }}" width="100%" class="small-img" alt="{{ product.title }}" onclick="myFunction()">
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="single-pro-details">
        <h4>{{ product.title }}</h4>
        <select name="" id="">
            <option>Select Size</option>
            {% for size in product.size_set.all %}
            <option>{{ size.size }}</option>
            {% endfor %}
        </select>
        <select name="" id="">
            <option>Select Color</option>
            {% for colour in product.colour_set.all %}
            <option>{{ colour.colour }}</option>
            {% endfor %}
        </select>

        <input type="number" id="quantity" value="1" min="1" max="3">
        <a href="/cart"><button id="add-to-cart" class="normal">Add To Cart</button></a>

        <h2>${{ product.price }}</h2>
        <p id="stock-message" style="color: red; display: none;">Out of stock</p>
        <h3 style="padding: 20px;">{{ product.description }}</h3>


      <script>
            document.getElementById('add-to-cart').addEventListener('click', function(event) {
                var maxStock = {{ product.stock }};
                var quantity = document.getElementById('quantity').value;

                if (quantity > maxStock) {
                    document.getElementById('stock-message').style.display = 'block';
                    event.preventDefault();
                } else {
                    document.getElementById('stock-message').style.display = 'none';
                }
            });
        </script>
    </div>
</section>
{% endblock %}
